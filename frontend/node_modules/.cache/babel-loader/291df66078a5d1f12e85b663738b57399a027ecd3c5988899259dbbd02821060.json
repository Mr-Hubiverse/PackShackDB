{"ast":null,"code":"import React,{Suspense,useState,useEffect}from'react';import ErrorBoundary from'./components/ErrorBoundary';import{Buffer}from'buffer';import{Alert,AlertDescription}from'./components/ui/Alert';import LoadingFallback from'./components/LoadingFallback';import Navigation from'./components/Navigation';import Footer from'./components/Footer';import Header from'./components/Header';import Section from'./components/Section';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";if(typeof window!=='undefined'){window.Buffer=window.Buffer||Buffer;}const AudioFileUploader=/*#__PURE__*/React.lazy(()=>import('./components/AudioFileUploader'));const DownloadButton=/*#__PURE__*/React.lazy(()=>import('./components/DownloadButton'));const App=()=>{const API_URL=process.env.REACT_APP_API_URL||'http://192.168.50.82:3001/api';const[isOnline,setIsOnline]=useState(navigator.onLine);const[error,setError]=useState(null);useEffect(()=>{document.title='PackShack DB - Audio Manager';const handleOnline=()=>setIsOnline(true);const handleOffline=()=>setIsOnline(false);window.addEventListener('online',handleOnline);window.addEventListener('offline',handleOffline);return()=>{window.removeEventListener('online',handleOnline);window.removeEventListener('offline',handleOffline);};},[]);useEffect(()=>{const checkApiStatus=async()=>{if(!isOnline)return;try{const response=await fetch(`${API_URL}/health`);if(!response.ok)throw new Error('API is not responding');}catch(err){setError('Unable to connect to the server. Please try again later.');}};checkApiStatus();},[API_URL,isOnline]);if(!API_URL){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-red-50\",children:/*#__PURE__*/_jsx(Alert,{variant:\"destructive\",className:\"max-w-md\",children:/*#__PURE__*/_jsx(AlertDescription,{children:\"Configuration Error: REACT_APP_API_URL is not set. Please check your environment configuration.\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100\",children:[/*#__PURE__*/_jsx(Navigation,{isOnline:isOnline}),/*#__PURE__*/_jsxs(\"main\",{className:\"container mx-auto px-4 py-12\",role:\"main\",children:[/*#__PURE__*/_jsx(Header,{}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"destructive\",className:\"max-w-2xl mx-auto mb-8\",children:/*#__PURE__*/_jsx(AlertDescription,{children:error})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-12\",children:[/*#__PURE__*/_jsx(Section,{id:\"upload-section-title\",title:\"Upload Audio Files\",className:\"bg-white rounded-2xl shadow-xl overflow-hidden\",children:/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(LoadingFallback,{message:\"Loading uploader...\"}),children:/*#__PURE__*/_jsx(AudioFileUploader,{apiUrl:API_URL})})})}),/*#__PURE__*/_jsxs(Section,{id:\"download-section-title\",title:\"Download Audio File\",className:\"max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Click the button below to download the audio collection\"}),/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(LoadingFallback,{message:\"Loading downloader...\"}),children:/*#__PURE__*/_jsx(DownloadButton,{apiUrl:API_URL,fileName:\"audio-collection.wav\",disabled:!isOnline})})})]})]}),/*#__PURE__*/_jsx(Footer,{})]})]});};export default App;","map":{"version":3,"names":["React","Suspense","useState","useEffect","ErrorBoundary","Buffer","Alert","AlertDescription","LoadingFallback","Navigation","Footer","Header","Section","jsx","_jsx","jsxs","_jsxs","window","AudioFileUploader","lazy","DownloadButton","App","API_URL","process","env","REACT_APP_API_URL","isOnline","setIsOnline","navigator","onLine","error","setError","document","title","handleOnline","handleOffline","addEventListener","removeEventListener","checkApiStatus","response","fetch","ok","Error","err","className","children","variant","role","id","fallback","message","apiUrl","fileName","disabled"],"sources":["/mnt/HDD/Docker/PackshackDB/frontend/src/App.js"],"sourcesContent":["import React, { Suspense, useState, useEffect } from 'react';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport { Buffer } from 'buffer';\nimport { Alert, AlertDescription } from './components/ui/Alert';\nimport LoadingFallback from './components/LoadingFallback';\nimport Navigation from './components/Navigation';\nimport Footer from './components/Footer';\nimport Header from './components/Header';\nimport Section from './components/Section';\n\nif (typeof window !== 'undefined') {\n  window.Buffer = window.Buffer || Buffer;\n}\n\nconst AudioFileUploader = React.lazy(() => import('./components/AudioFileUploader'));\nconst DownloadButton = React.lazy(() => import('./components/DownloadButton'));\n\nconst App = () => {\n  const API_URL = process.env.REACT_APP_API_URL || 'http://192.168.50.82:3001/api';\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    document.title = 'PackShack DB - Audio Manager';\n    const handleOnline = () => setIsOnline(true);\n    const handleOffline = () => setIsOnline(false);\n\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, []);\n\n  useEffect(() => {\n    const checkApiStatus = async () => {\n      if (!isOnline) return;\n      try {\n        const response = await fetch(`${API_URL}/health`);\n        if (!response.ok) throw new Error('API is not responding');\n      } catch (err) {\n        setError('Unable to connect to the server. Please try again later.');\n      }\n    };\n\n    checkApiStatus();\n  }, [API_URL, isOnline]);\n\n  if (!API_URL) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-red-50\">\n        <Alert variant=\"destructive\" className=\"max-w-md\">\n          <AlertDescription>\n            Configuration Error: REACT_APP_API_URL is not set. Please check your environment configuration.\n          </AlertDescription>\n        </Alert>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100\">\n      <Navigation isOnline={isOnline} />\n\n      <main className=\"container mx-auto px-4 py-12\" role=\"main\">\n        <Header />\n\n        {error && (\n          <Alert variant=\"destructive\" className=\"max-w-2xl mx-auto mb-8\">\n            <AlertDescription>{error}</AlertDescription>\n          </Alert>\n        )}\n\n        <div className=\"space-y-12\">\n          <Section \n            id=\"upload-section-title\"\n            title=\"Upload Audio Files\"\n            className=\"bg-white rounded-2xl shadow-xl overflow-hidden\"\n          >\n            <ErrorBoundary>\n              <Suspense fallback={<LoadingFallback message=\"Loading uploader...\" />}>\n                <AudioFileUploader apiUrl={API_URL} />\n              </Suspense>\n            </ErrorBoundary>\n          </Section>\n\n          <Section\n            id=\"download-section-title\"\n            title=\"Download Audio File\"\n            className=\"max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden\"\n          >\n            <p className=\"text-sm text-gray-600 mb-4\">\n              Click the button below to download the audio collection\n            </p>\n            <ErrorBoundary>\n              <Suspense fallback={<LoadingFallback message=\"Loading downloader...\" />}>\n                <DownloadButton\n                  apiUrl={API_URL}\n                  fileName=\"audio-collection.wav\"\n                  disabled={!isOnline}\n                />\n              </Suspense>\n            </ErrorBoundary>\n          </Section>\n        </div>\n\n        <Footer />\n      </main>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}