{"ast":null,"code":"import React,{useState,useRef,useCallback}from'react';import{Upload,Music,Loader2,AlertCircle,CheckCircle2,X}from'lucide-react';import{Alert,AlertDescription}from'./ui/Alert';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='http://192.168.50.82:3001/api/upload';const MAX_FILE_SIZE_MB=500;// Max size in MB\nconst SUPPORTED_FORMATS=['.wav','.mp3','.flac','.aiff'];const AudioFileUploader=()=>{const[files,setFiles]=useState([]);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const[uploadSuccess,setUploadSuccess]=useState(false);const fileInputRef=useRef(null);const abortControllerRef=useRef(null);const validateFileType=useCallback(file=>{return file.type.startsWith('audio/')||SUPPORTED_FORMATS.some(ext=>file.name.toLowerCase().endsWith(ext));},[]);const validateFileSize=useCallback(file=>{return file.size/1024/1024<=MAX_FILE_SIZE_MB;},[]);const getAudioDuration=useCallback(file=>{return new Promise(resolve=>{const audio=new Audio();audio.src=URL.createObjectURL(file);audio.addEventListener('loadedmetadata',()=>{URL.revokeObjectURL(audio.src);resolve(audio.duration);});audio.addEventListener('error',()=>{URL.revokeObjectURL(audio.src);resolve(null);});});},[]);const getFileMetadata=useCallback(async file=>{const duration=await getAudioDuration(file);return{file,name:file.name,size:(file.size/1024/1024).toFixed(2),type:file.type||'audio/wav',duration:duration?duration.toFixed(2):null,lastModified:new Date(file.lastModified).toLocaleDateString(),path:file.webkitRelativePath||file.name};},[getAudioDuration]);const handleFolderSelect=useCallback(async event=>{setIsLoading(true);setError(null);setUploadSuccess(false);try{const selectedFiles=Array.from(event.target.files);// Validate file types\nconst invalidFiles=selectedFiles.filter(file=>!validateFileType(file));if(invalidFiles.length>0){throw new Error(`Unsupported file type(s): ${invalidFiles.map(f=>f.name).join(', ')}`);}// Validate file sizes\nconst oversizedFiles=selectedFiles.filter(file=>!validateFileSize(file));if(oversizedFiles.length>0){throw new Error(`Files exceeding ${MAX_FILE_SIZE_MB}MB: ${oversizedFiles.map(f=>f.name).join(', ')}`);}const filesWithMetadata=await Promise.all(selectedFiles.map(file=>getFileMetadata(file)));setFiles(filesWithMetadata);}catch(err){setError(err.message);console.error('Folder selection error:',err);}finally{setIsLoading(false);}},[validateFileType,validateFileSize,getFileMetadata]);const removeFile=useCallback(index=>{setFiles(prevFiles=>prevFiles.filter((_,i)=>i!==index));},[]);const handleUpload=useCallback(async()=>{setIsLoading(true);setError(null);setUploadSuccess(false);// Create new AbortController for this upload\nabortControllerRef.current=new AbortController();try{const formData=new FormData();files.forEach((fileData,index)=>{formData.append('files',fileData.file);formData.append(`metadata${index}`,JSON.stringify({duration:fileData.duration||'unknown',type:fileData.type,lastModified:fileData.lastModified,path:fileData.path}));});const response=await fetch(API_URL,{method:'POST',body:formData,signal:abortControllerRef.current.signal,headers:{Accept:'application/json'}});if(!response.ok){const errorData=await response.json().catch(()=>null);throw new Error((errorData===null||errorData===void 0?void 0:errorData.message)||`Upload failed: ${response.statusText}`);}setFiles([]);setUploadSuccess(true);setTimeout(()=>setUploadSuccess(false),3000);}catch(err){if(err.name==='AbortError'){setError('Upload cancelled');}else{setError(err.message||'Upload failed. Please try again.');console.error('Upload error:',err);}}finally{setIsLoading(false);abortControllerRef.current=null;}},[files]);const cancelUpload=useCallback(()=>{if(abortControllerRef.current){abortControllerRef.current.abort();}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center py-8 px-4 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors duration-200\",onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();handleFolderSelect({target:{files:e.dataTransfer.files}});},children:[/*#__PURE__*/_jsx(\"input\",{id:\"folderInput\",type:\"file\",ref:fileInputRef,onChange:handleFolderSelect,className:\"hidden\",webkitdirectory:\"true\",directory:\"true\",multiple:true,accept:SUPPORTED_FORMATS.join(',')}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"folderInput\",className:\"flex items-center gap-3 px-8 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 cursor-pointer disabled:opacity-50\",children:[isLoading?/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin\",size:24}):/*#__PURE__*/_jsx(Upload,{size:24}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:isLoading?'Processing...':'Select Audio Folder'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-sm text-gray-500\",children:[\"Drop a folder here or click to select. Supported formats: \",SUPPORTED_FORMATS.join(', '),\". Max size: \",MAX_FILE_SIZE_MB,\" MB.\"]})]}),uploadSuccess&&/*#__PURE__*/_jsxs(Alert,{className:\"mt-6 bg-green-50 border-green-500\",children:[/*#__PURE__*/_jsx(CheckCircle2,{className:\"h-5 w-5 text-green-500\"}),/*#__PURE__*/_jsx(AlertDescription,{className:\"ml-2 text-green-700\",children:\"Files uploaded successfully!\"})]}),error&&/*#__PURE__*/_jsxs(Alert,{className:\"mt-6 bg-red-50 border-red-500\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-500\"}),/*#__PURE__*/_jsx(AlertDescription,{className:\"ml-2 text-red-700\",children:error})]}),files.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-xl overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-800 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Music,{className:\"h-5 w-5 text-blue-500\"}),\"Selected Files (\",files.length,\")\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:files.map((fileData,index)=>{var _fileData$type$split$;return/*#__PURE__*/_jsx(\"div\",{className:\"p-6 hover:bg-gray-50 transition-colors duration-150\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Music,{className:\"h-6 w-6 text-blue-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:fileData.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 grid grid-cols-2 gap-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Size: \",fileData.size,\" MB\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Duration: \",fileData.duration?`${fileData.duration}s`:'Unknown']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Type: \",((_fileData$type$split$=fileData.type.split('/')[1])===null||_fileData$type$split$===void 0?void 0:_fileData$type$split$.toUpperCase())||'Unknown']}),/*#__PURE__*/_jsxs(\"p\",{className:\"truncate\",children:[\"Path: \",fileData.path]})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFile(index),className:\"p-1 hover:bg-gray-100 rounded-full\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5 text-gray-400\"})})]})},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleUpload,className:\"flex-1 flex items-center justify-center gap-3 px-8 py-4 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all duration-200 disabled:opacity-50\",disabled:isLoading,children:[isLoading?/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin\",size:24}):/*#__PURE__*/_jsx(Upload,{size:24}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:isLoading?'Uploading...':'Upload Files'})]}),isLoading&&/*#__PURE__*/_jsx(\"button\",{onClick:cancelUpload,className:\"px-8 py-4 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all duration-200\",children:\"Cancel\"})]})]})]})});};export default AudioFileUploader;","map":{"version":3,"names":["React","useState","useRef","useCallback","Upload","Music","Loader2","AlertCircle","CheckCircle2","X","Alert","AlertDescription","jsx","_jsx","jsxs","_jsxs","API_URL","MAX_FILE_SIZE_MB","SUPPORTED_FORMATS","AudioFileUploader","files","setFiles","isLoading","setIsLoading","error","setError","uploadSuccess","setUploadSuccess","fileInputRef","abortControllerRef","validateFileType","file","type","startsWith","some","ext","name","toLowerCase","endsWith","validateFileSize","size","getAudioDuration","Promise","resolve","audio","Audio","src","URL","createObjectURL","addEventListener","revokeObjectURL","duration","getFileMetadata","toFixed","lastModified","Date","toLocaleDateString","path","webkitRelativePath","handleFolderSelect","event","selectedFiles","Array","from","target","invalidFiles","filter","length","Error","map","f","join","oversizedFiles","filesWithMetadata","all","err","message","console","removeFile","index","prevFiles","_","i","handleUpload","current","AbortController","formData","FormData","forEach","fileData","append","JSON","stringify","response","fetch","method","body","signal","headers","Accept","ok","errorData","json","catch","statusText","setTimeout","cancelUpload","abort","className","children","onDragOver","e","preventDefault","onDrop","dataTransfer","id","ref","onChange","webkitdirectory","directory","multiple","accept","htmlFor","_fileData$type$split$","split","toUpperCase","onClick","disabled"],"sources":["/mnt/HDD/Docker/PackshackDB/frontend/src/components/AudioFileUploader.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport { Upload, Music, Loader2, AlertCircle, CheckCircle2, X } from 'lucide-react';\nimport { Alert, AlertDescription } from './ui/Alert';\n\nconst API_URL = 'http://192.168.50.82:3001/api/upload';\nconst MAX_FILE_SIZE_MB = 500; // Max size in MB\nconst SUPPORTED_FORMATS = ['.wav', '.mp3', '.flac', '.aiff'];\n\nconst AudioFileUploader = () => {\n  const [files, setFiles] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [uploadSuccess, setUploadSuccess] = useState(false);\n  const fileInputRef = useRef(null);\n  const abortControllerRef = useRef(null);\n\n  const validateFileType = useCallback((file) => {\n    return file.type.startsWith('audio/') || \n           SUPPORTED_FORMATS.some(ext => file.name.toLowerCase().endsWith(ext));\n  }, []);\n\n  const validateFileSize = useCallback((file) => {\n    return file.size / 1024 / 1024 <= MAX_FILE_SIZE_MB;\n  }, []);\n\n  const getAudioDuration = useCallback((file) => {\n    return new Promise((resolve) => {\n      const audio = new Audio();\n      audio.src = URL.createObjectURL(file);\n      \n      audio.addEventListener('loadedmetadata', () => {\n        URL.revokeObjectURL(audio.src);\n        resolve(audio.duration);\n      });\n      \n      audio.addEventListener('error', () => {\n        URL.revokeObjectURL(audio.src);\n        resolve(null);\n      });\n    });\n  }, []);\n\n  const getFileMetadata = useCallback(async (file) => {\n    const duration = await getAudioDuration(file);\n    \n    return {\n      file,\n      name: file.name,\n      size: (file.size / 1024 / 1024).toFixed(2),\n      type: file.type || 'audio/wav',\n      duration: duration ? duration.toFixed(2) : null,\n      lastModified: new Date(file.lastModified).toLocaleDateString(),\n      path: file.webkitRelativePath || file.name,\n    };\n  }, [getAudioDuration]);\n\n  const handleFolderSelect = useCallback(async (event) => {\n    setIsLoading(true);\n    setError(null);\n    setUploadSuccess(false);\n\n    try {\n      const selectedFiles = Array.from(event.target.files);\n      \n      // Validate file types\n      const invalidFiles = selectedFiles.filter(file => !validateFileType(file));\n      if (invalidFiles.length > 0) {\n        throw new Error(`Unsupported file type(s): ${invalidFiles.map(f => f.name).join(', ')}`);\n      }\n\n      // Validate file sizes\n      const oversizedFiles = selectedFiles.filter(file => !validateFileSize(file));\n      if (oversizedFiles.length > 0) {\n        throw new Error(`Files exceeding ${MAX_FILE_SIZE_MB}MB: ${oversizedFiles.map(f => f.name).join(', ')}`);\n      }\n\n      const filesWithMetadata = await Promise.all(\n        selectedFiles.map(file => getFileMetadata(file))\n      );\n      \n      setFiles(filesWithMetadata);\n    } catch (err) {\n      setError(err.message);\n      console.error('Folder selection error:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [validateFileType, validateFileSize, getFileMetadata]);\n\n  const removeFile = useCallback((index) => {\n    setFiles(prevFiles => prevFiles.filter((_, i) => i !== index));\n  }, []);\n\n  const handleUpload = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    setUploadSuccess(false);\n\n    // Create new AbortController for this upload\n    abortControllerRef.current = new AbortController();\n\n    try {\n      const formData = new FormData();\n      files.forEach((fileData, index) => {\n        formData.append('files', fileData.file);\n        formData.append(`metadata${index}`, JSON.stringify({\n          duration: fileData.duration || 'unknown',\n          type: fileData.type,\n          lastModified: fileData.lastModified,\n          path: fileData.path,\n        }));\n      });\n\n      const response = await fetch(API_URL, {\n        method: 'POST',\n        body: formData,\n        signal: abortControllerRef.current.signal,\n        headers: {\n          Accept: 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => null);\n        throw new Error(errorData?.message || `Upload failed: ${response.statusText}`);\n      }\n\n      setFiles([]);\n      setUploadSuccess(true);\n      setTimeout(() => setUploadSuccess(false), 3000);\n    } catch (err) {\n      if (err.name === 'AbortError') {\n        setError('Upload cancelled');\n      } else {\n        setError(err.message || 'Upload failed. Please try again.');\n        console.error('Upload error:', err);\n      }\n    } finally {\n      setIsLoading(false);\n      abortControllerRef.current = null;\n    }\n  }, [files]);\n\n  const cancelUpload = useCallback(() => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n  }, []);\n\n  return (\n    <div className=\"max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden\">\n      <div className=\"p-8\">\n        <div \n          className=\"flex flex-col items-center justify-center py-8 px-4 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors duration-200\"\n          onDragOver={(e) => e.preventDefault()}\n          onDrop={(e) => {\n            e.preventDefault();\n            handleFolderSelect({ target: { files: e.dataTransfer.files } });\n          }}\n        >\n          <input\n            id=\"folderInput\"\n            type=\"file\"\n            ref={fileInputRef}\n            onChange={handleFolderSelect}\n            className=\"hidden\"\n            webkitdirectory=\"true\"\n            directory=\"true\"\n            multiple\n            accept={SUPPORTED_FORMATS.join(',')}\n          />\n\n          <label\n            htmlFor=\"folderInput\"\n            className=\"flex items-center gap-3 px-8 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 cursor-pointer disabled:opacity-50\"\n          >\n            {isLoading ? (\n              <Loader2 className=\"animate-spin\" size={24} />\n            ) : (\n              <Upload size={24} />\n            )}\n            <span className=\"font-semibold\">\n              {isLoading ? 'Processing...' : 'Select Audio Folder'}\n            </span>\n          </label>\n          <p className=\"mt-4 text-sm text-gray-500\">\n            Drop a folder here or click to select. Supported formats: {SUPPORTED_FORMATS.join(', ')}. \n            Max size: {MAX_FILE_SIZE_MB} MB.\n          </p>\n        </div>\n\n        {uploadSuccess && (\n          <Alert className=\"mt-6 bg-green-50 border-green-500\">\n            <CheckCircle2 className=\"h-5 w-5 text-green-500\" />\n            <AlertDescription className=\"ml-2 text-green-700\">\n              Files uploaded successfully!\n            </AlertDescription>\n          </Alert>\n        )}\n\n        {error && (\n          <Alert className=\"mt-6 bg-red-50 border-red-500\">\n            <AlertCircle className=\"h-5 w-5 text-red-500\" />\n            <AlertDescription className=\"ml-2 text-red-700\">{error}</AlertDescription>\n          </Alert>\n        )}\n\n        {files.length > 0 && (\n          <div className=\"mt-8 space-y-6\">\n            <div className=\"bg-white border border-gray-200 rounded-xl overflow-hidden\">\n              <div className=\"bg-gray-50 px-6 py-4 border-b border-gray-200\">\n                <h2 className=\"text-lg font-semibold text-gray-800 flex items-center gap-2\">\n                  <Music className=\"h-5 w-5 text-blue-500\" />\n                  Selected Files ({files.length})\n                </h2>\n              </div>\n              <div className=\"divide-y divide-gray-200\">\n                {files.map((fileData, index) => (\n                  <div key={index} className=\"p-6 hover:bg-gray-50 transition-colors duration-150\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex items-start space-x-4\">\n                        <div className=\"flex-shrink-0\">\n                          <div className=\"p-2 bg-blue-100 rounded-lg\">\n                            <Music className=\"h-6 w-6 text-blue-600\" />\n                          </div>\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-sm font-semibold text-gray-900 truncate\">\n                            {fileData.name}\n                          </p>\n                          <div className=\"mt-2 grid grid-cols-2 gap-4 text-sm text-gray-600\">\n                            <p>Size: {fileData.size} MB</p>\n                            <p>Duration: {fileData.duration ? `${fileData.duration}s` : 'Unknown'}</p>\n                            <p>Type: {fileData.type.split('/')[1]?.toUpperCase() || 'Unknown'}</p>\n                            <p className=\"truncate\">Path: {fileData.path}</p>\n                          </div>\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => removeFile(index)}\n                        className=\"p-1 hover:bg-gray-100 rounded-full\"\n                      >\n                        <X className=\"h-5 w-5 text-gray-400\" />\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"flex gap-4\">\n              <button\n                onClick={handleUpload}\n                className=\"flex-1 flex items-center justify-center gap-3 px-8 py-4 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all duration-200 disabled:opacity-50\"\n                disabled={isLoading}\n              >\n                {isLoading ? (\n                  <Loader2 className=\"animate-spin\" size={24} />\n                ) : (\n                  <Upload size={24} />\n                )}\n                <span className=\"font-semibold\">\n                  {isLoading ? 'Uploading...' : 'Upload Files'}\n                </span>\n              </button>\n              \n              {isLoading && (\n                <button\n                  onClick={cancelUpload}\n                  className=\"px-8 py-4 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all duration-200\"\n                >\n                  Cancel\n                </button>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AudioFileUploader;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,WAAW,KAAQ,OAAO,CAC5D,OAASC,MAAM,CAAEC,KAAK,CAAEC,OAAO,CAAEC,WAAW,CAAEC,YAAY,CAAEC,CAAC,KAAQ,cAAc,CACnF,OAASC,KAAK,CAAEC,gBAAgB,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,OAAO,CAAG,sCAAsC,CACtD,KAAM,CAAAC,gBAAgB,CAAG,GAAG,CAAE;AAC9B,KAAM,CAAAC,iBAAiB,CAAG,CAAC,MAAM,CAAE,MAAM,CAAE,OAAO,CAAE,OAAO,CAAC,CAE5D,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACqB,SAAS,CAAEC,YAAY,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACuB,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACyB,aAAa,CAAEC,gBAAgB,CAAC,CAAG1B,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAAA2B,YAAY,CAAG1B,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAAA2B,kBAAkB,CAAG3B,MAAM,CAAC,IAAI,CAAC,CAEvC,KAAM,CAAA4B,gBAAgB,CAAG3B,WAAW,CAAE4B,IAAI,EAAK,CAC7C,MAAO,CAAAA,IAAI,CAACC,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAC9Bf,iBAAiB,CAACgB,IAAI,CAACC,GAAG,EAAIJ,IAAI,CAACK,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACH,GAAG,CAAC,CAAC,CAC7E,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,gBAAgB,CAAGpC,WAAW,CAAE4B,IAAI,EAAK,CAC7C,MAAO,CAAAA,IAAI,CAACS,IAAI,CAAG,IAAI,CAAG,IAAI,EAAIvB,gBAAgB,CACpD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAwB,gBAAgB,CAAGtC,WAAW,CAAE4B,IAAI,EAAK,CAC7C,MAAO,IAAI,CAAAW,OAAO,CAAEC,OAAO,EAAK,CAC9B,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,KAAK,CAAC,CAAC,CACzBD,KAAK,CAACE,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACjB,IAAI,CAAC,CAErCa,KAAK,CAACK,gBAAgB,CAAC,gBAAgB,CAAE,IAAM,CAC7CF,GAAG,CAACG,eAAe,CAACN,KAAK,CAACE,GAAG,CAAC,CAC9BH,OAAO,CAACC,KAAK,CAACO,QAAQ,CAAC,CACzB,CAAC,CAAC,CAEFP,KAAK,CAACK,gBAAgB,CAAC,OAAO,CAAE,IAAM,CACpCF,GAAG,CAACG,eAAe,CAACN,KAAK,CAACE,GAAG,CAAC,CAC9BH,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAS,eAAe,CAAGjD,WAAW,CAAC,KAAO,CAAA4B,IAAI,EAAK,CAClD,KAAM,CAAAoB,QAAQ,CAAG,KAAM,CAAAV,gBAAgB,CAACV,IAAI,CAAC,CAE7C,MAAO,CACLA,IAAI,CACJK,IAAI,CAAEL,IAAI,CAACK,IAAI,CACfI,IAAI,CAAE,CAACT,IAAI,CAACS,IAAI,CAAG,IAAI,CAAG,IAAI,EAAEa,OAAO,CAAC,CAAC,CAAC,CAC1CrB,IAAI,CAAED,IAAI,CAACC,IAAI,EAAI,WAAW,CAC9BmB,QAAQ,CAAEA,QAAQ,CAAGA,QAAQ,CAACE,OAAO,CAAC,CAAC,CAAC,CAAG,IAAI,CAC/CC,YAAY,CAAE,GAAI,CAAAC,IAAI,CAACxB,IAAI,CAACuB,YAAY,CAAC,CAACE,kBAAkB,CAAC,CAAC,CAC9DC,IAAI,CAAE1B,IAAI,CAAC2B,kBAAkB,EAAI3B,IAAI,CAACK,IACxC,CAAC,CACH,CAAC,CAAE,CAACK,gBAAgB,CAAC,CAAC,CAEtB,KAAM,CAAAkB,kBAAkB,CAAGxD,WAAW,CAAC,KAAO,CAAAyD,KAAK,EAAK,CACtDrC,YAAY,CAAC,IAAI,CAAC,CAClBE,QAAQ,CAAC,IAAI,CAAC,CACdE,gBAAgB,CAAC,KAAK,CAAC,CAEvB,GAAI,CACF,KAAM,CAAAkC,aAAa,CAAGC,KAAK,CAACC,IAAI,CAACH,KAAK,CAACI,MAAM,CAAC5C,KAAK,CAAC,CAEpD;AACA,KAAM,CAAA6C,YAAY,CAAGJ,aAAa,CAACK,MAAM,CAACnC,IAAI,EAAI,CAACD,gBAAgB,CAACC,IAAI,CAAC,CAAC,CAC1E,GAAIkC,YAAY,CAACE,MAAM,CAAG,CAAC,CAAE,CAC3B,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6BH,YAAY,CAACI,GAAG,CAACC,CAAC,EAAIA,CAAC,CAAClC,IAAI,CAAC,CAACmC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAC1F,CAEA;AACA,KAAM,CAAAC,cAAc,CAAGX,aAAa,CAACK,MAAM,CAACnC,IAAI,EAAI,CAACQ,gBAAgB,CAACR,IAAI,CAAC,CAAC,CAC5E,GAAIyC,cAAc,CAACL,MAAM,CAAG,CAAC,CAAE,CAC7B,KAAM,IAAI,CAAAC,KAAK,CAAC,mBAAmBnD,gBAAgB,OAAOuD,cAAc,CAACH,GAAG,CAACC,CAAC,EAAIA,CAAC,CAAClC,IAAI,CAAC,CAACmC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CACzG,CAEA,KAAM,CAAAE,iBAAiB,CAAG,KAAM,CAAA/B,OAAO,CAACgC,GAAG,CACzCb,aAAa,CAACQ,GAAG,CAACtC,IAAI,EAAIqB,eAAe,CAACrB,IAAI,CAAC,CACjD,CAAC,CAEDV,QAAQ,CAACoD,iBAAiB,CAAC,CAC7B,CAAE,MAAOE,GAAG,CAAE,CACZlD,QAAQ,CAACkD,GAAG,CAACC,OAAO,CAAC,CACrBC,OAAO,CAACrD,KAAK,CAAC,yBAAyB,CAAEmD,GAAG,CAAC,CAC/C,CAAC,OAAS,CACRpD,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAAE,CAACO,gBAAgB,CAAES,gBAAgB,CAAEa,eAAe,CAAC,CAAC,CAEzD,KAAM,CAAA0B,UAAU,CAAG3E,WAAW,CAAE4E,KAAK,EAAK,CACxC1D,QAAQ,CAAC2D,SAAS,EAAIA,SAAS,CAACd,MAAM,CAAC,CAACe,CAAC,CAAEC,CAAC,GAAKA,CAAC,GAAKH,KAAK,CAAC,CAAC,CAChE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,YAAY,CAAGhF,WAAW,CAAC,SAAY,CAC3CoB,YAAY,CAAC,IAAI,CAAC,CAClBE,QAAQ,CAAC,IAAI,CAAC,CACdE,gBAAgB,CAAC,KAAK,CAAC,CAEvB;AACAE,kBAAkB,CAACuD,OAAO,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CAElD,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BnE,KAAK,CAACoE,OAAO,CAAC,CAACC,QAAQ,CAAEV,KAAK,GAAK,CACjCO,QAAQ,CAACI,MAAM,CAAC,OAAO,CAAED,QAAQ,CAAC1D,IAAI,CAAC,CACvCuD,QAAQ,CAACI,MAAM,CAAC,WAAWX,KAAK,EAAE,CAAEY,IAAI,CAACC,SAAS,CAAC,CACjDzC,QAAQ,CAAEsC,QAAQ,CAACtC,QAAQ,EAAI,SAAS,CACxCnB,IAAI,CAAEyD,QAAQ,CAACzD,IAAI,CACnBsB,YAAY,CAAEmC,QAAQ,CAACnC,YAAY,CACnCG,IAAI,CAAEgC,QAAQ,CAAChC,IACjB,CAAC,CAAC,CAAC,CACL,CAAC,CAAC,CAEF,KAAM,CAAAoC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC9E,OAAO,CAAE,CACpC+E,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEV,QAAQ,CACdW,MAAM,CAAEpE,kBAAkB,CAACuD,OAAO,CAACa,MAAM,CACzCC,OAAO,CAAE,CACPC,MAAM,CAAE,kBACV,CACF,CAAC,CAAC,CAEF,GAAI,CAACN,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,IAAM,IAAI,CAAC,CACzD,KAAM,IAAI,CAAAnC,KAAK,CAAC,CAAAiC,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEzB,OAAO,GAAI,kBAAkBiB,QAAQ,CAACW,UAAU,EAAE,CAAC,CAChF,CAEAnF,QAAQ,CAAC,EAAE,CAAC,CACZM,gBAAgB,CAAC,IAAI,CAAC,CACtB8E,UAAU,CAAC,IAAM9E,gBAAgB,CAAC,KAAK,CAAC,CAAE,IAAI,CAAC,CACjD,CAAE,MAAOgD,GAAG,CAAE,CACZ,GAAIA,GAAG,CAACvC,IAAI,GAAK,YAAY,CAAE,CAC7BX,QAAQ,CAAC,kBAAkB,CAAC,CAC9B,CAAC,IAAM,CACLA,QAAQ,CAACkD,GAAG,CAACC,OAAO,EAAI,kCAAkC,CAAC,CAC3DC,OAAO,CAACrD,KAAK,CAAC,eAAe,CAAEmD,GAAG,CAAC,CACrC,CACF,CAAC,OAAS,CACRpD,YAAY,CAAC,KAAK,CAAC,CACnBM,kBAAkB,CAACuD,OAAO,CAAG,IAAI,CACnC,CACF,CAAC,CAAE,CAAChE,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAsF,YAAY,CAAGvG,WAAW,CAAC,IAAM,CACrC,GAAI0B,kBAAkB,CAACuD,OAAO,CAAE,CAC9BvD,kBAAkB,CAACuD,OAAO,CAACuB,KAAK,CAAC,CAAC,CACpC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE9F,IAAA,QAAK+F,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC/E9F,KAAA,QAAK6F,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB9F,KAAA,QACE6F,SAAS,CAAC,mKAAmK,CAC7KE,UAAU,CAAGC,CAAC,EAAKA,CAAC,CAACC,cAAc,CAAC,CAAE,CACtCC,MAAM,CAAGF,CAAC,EAAK,CACbA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBrD,kBAAkB,CAAC,CAAEK,MAAM,CAAE,CAAE5C,KAAK,CAAE2F,CAAC,CAACG,YAAY,CAAC9F,KAAM,CAAE,CAAC,CAAC,CACjE,CAAE,CAAAyF,QAAA,eAEFhG,IAAA,UACEsG,EAAE,CAAC,aAAa,CAChBnF,IAAI,CAAC,MAAM,CACXoF,GAAG,CAAExF,YAAa,CAClByF,QAAQ,CAAE1D,kBAAmB,CAC7BiD,SAAS,CAAC,QAAQ,CAClBU,eAAe,CAAC,MAAM,CACtBC,SAAS,CAAC,MAAM,CAChBC,QAAQ,MACRC,MAAM,CAAEvG,iBAAiB,CAACqD,IAAI,CAAC,GAAG,CAAE,CACrC,CAAC,cAEFxD,KAAA,UACE2G,OAAO,CAAC,aAAa,CACrBd,SAAS,CAAC,sJAAsJ,CAAAC,QAAA,EAE/JvF,SAAS,cACRT,IAAA,CAACP,OAAO,EAACsG,SAAS,CAAC,cAAc,CAACpE,IAAI,CAAE,EAAG,CAAE,CAAC,cAE9C3B,IAAA,CAACT,MAAM,EAACoC,IAAI,CAAE,EAAG,CAAE,CACpB,cACD3B,IAAA,SAAM+F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC5BvF,SAAS,CAAG,eAAe,CAAG,qBAAqB,CAChD,CAAC,EACF,CAAC,cACRP,KAAA,MAAG6F,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,4DACkB,CAAC3F,iBAAiB,CAACqD,IAAI,CAAC,IAAI,CAAC,CAAC,cAC9E,CAACtD,gBAAgB,CAAC,MAC9B,EAAG,CAAC,EACD,CAAC,CAELS,aAAa,eACZX,KAAA,CAACL,KAAK,EAACkG,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAClDhG,IAAA,CAACL,YAAY,EAACoG,SAAS,CAAC,wBAAwB,CAAE,CAAC,cACnD/F,IAAA,CAACF,gBAAgB,EAACiG,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,8BAElD,CAAkB,CAAC,EACd,CACR,CAEArF,KAAK,eACJT,KAAA,CAACL,KAAK,EAACkG,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC9ChG,IAAA,CAACN,WAAW,EAACqG,SAAS,CAAC,sBAAsB,CAAE,CAAC,cAChD/F,IAAA,CAACF,gBAAgB,EAACiG,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAErF,KAAK,CAAmB,CAAC,EACrE,CACR,CAEAJ,KAAK,CAAC+C,MAAM,CAAG,CAAC,eACfpD,KAAA,QAAK6F,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B9F,KAAA,QAAK6F,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACzEhG,IAAA,QAAK+F,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5D9F,KAAA,OAAI6F,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eACzEhG,IAAA,CAACR,KAAK,EAACuG,SAAS,CAAC,uBAAuB,CAAE,CAAC,mBAC3B,CAACxF,KAAK,CAAC+C,MAAM,CAAC,GAChC,EAAI,CAAC,CACF,CAAC,cACNtD,IAAA,QAAK+F,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CACtCzF,KAAK,CAACiD,GAAG,CAAC,CAACoB,QAAQ,CAAEV,KAAK,QAAA4C,qBAAA,oBACzB9G,IAAA,QAAiB+F,SAAS,CAAC,qDAAqD,CAAAC,QAAA,cAC9E9F,KAAA,QAAK6F,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C9F,KAAA,QAAK6F,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzChG,IAAA,QAAK+F,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BhG,IAAA,QAAK+F,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzChG,IAAA,CAACR,KAAK,EAACuG,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACxC,CAAC,CACH,CAAC,cACN7F,KAAA,QAAK6F,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BhG,IAAA,MAAG+F,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CACxDpB,QAAQ,CAACrD,IAAI,CACb,CAAC,cACJrB,KAAA,QAAK6F,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE9F,KAAA,MAAA8F,QAAA,EAAG,QAAM,CAACpB,QAAQ,CAACjD,IAAI,CAAC,KAAG,EAAG,CAAC,cAC/BzB,KAAA,MAAA8F,QAAA,EAAG,YAAU,CAACpB,QAAQ,CAACtC,QAAQ,CAAG,GAAGsC,QAAQ,CAACtC,QAAQ,GAAG,CAAG,SAAS,EAAI,CAAC,cAC1EpC,KAAA,MAAA8F,QAAA,EAAG,QAAM,CAAC,EAAAc,qBAAA,CAAAlC,QAAQ,CAACzD,IAAI,CAAC4F,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAAD,qBAAA,iBAA3BA,qBAAA,CAA6BE,WAAW,CAAC,CAAC,GAAI,SAAS,EAAI,CAAC,cACtE9G,KAAA,MAAG6F,SAAS,CAAC,UAAU,CAAAC,QAAA,EAAC,QAAM,CAACpB,QAAQ,CAAChC,IAAI,EAAI,CAAC,EAC9C,CAAC,EACH,CAAC,EACH,CAAC,cACN5C,IAAA,WACEiH,OAAO,CAAEA,CAAA,GAAMhD,UAAU,CAACC,KAAK,CAAE,CACjC6B,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cAE9ChG,IAAA,CAACJ,CAAC,EAACmG,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACjC,CAAC,EACN,CAAC,EA1BE7B,KA2BL,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,cAENhE,KAAA,QAAK6F,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB9F,KAAA,WACE+G,OAAO,CAAE3C,YAAa,CACtByB,SAAS,CAAC,+JAA+J,CACzKmB,QAAQ,CAAEzG,SAAU,CAAAuF,QAAA,EAEnBvF,SAAS,cACRT,IAAA,CAACP,OAAO,EAACsG,SAAS,CAAC,cAAc,CAACpE,IAAI,CAAE,EAAG,CAAE,CAAC,cAE9C3B,IAAA,CAACT,MAAM,EAACoC,IAAI,CAAE,EAAG,CAAE,CACpB,cACD3B,IAAA,SAAM+F,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC5BvF,SAAS,CAAG,cAAc,CAAG,cAAc,CACxC,CAAC,EACD,CAAC,CAERA,SAAS,eACRT,IAAA,WACEiH,OAAO,CAAEpB,YAAa,CACtBE,SAAS,CAAC,yFAAyF,CAAAC,QAAA,CACpG,QAED,CAAQ,CACT,EACE,CAAC,EACH,CACN,EACE,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1F,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}