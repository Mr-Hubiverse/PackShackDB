"use strict";(self.webpackChunkpackshack_frontend=self.webpackChunkpackshack_frontend||[]).push([[683],{683:(e,a,l)=>{l.r(a),l.d(a,{default:()=>d});var n=l(43),o=l(987),i=l(772);const t=(0,l(797).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var s=l(579);const d=e=>{let{audioFileUrl:a,fileName:l="audio-file.wav"}=e;const[d,c]=(0,n.useState)(!1),[r,u]=(0,n.useState)(null);return(0,s.jsxs)("div",{className:"inline-block",children:[r&&(0,s.jsxs)("div",{className:"mb-4 flex items-center gap-2 text-red-500",children:[(0,s.jsx)(o.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"text-sm",children:r})]}),(0,s.jsxs)("button",{onClick:async()=>{c(!0),u(null);try{var e,n;const o=await fetch(a);if(!o.ok)throw new Error(`Download failed: ${o.statusText}`);const i=o.headers.get("Content-Disposition"),t=null!==(e=null===i||void 0===i||null===(n=i.match(/filename="(.+)"/))||void 0===n?void 0:n[1])&&void 0!==e?e:l,s=await o.blob(),d=URL.createObjectURL(s),c=document.createElement("a");c.href=d,c.download=t,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(d)}catch(o){console.error("Error downloading file:",o),u("Failed to download the audio file. Please try again.")}finally{c(!1)}},disabled:d,"aria-busy":d,"aria-label":"Download audio file",className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:[d?(0,s.jsx)(i.A,{className:"h-5 w-5 animate-spin"}):(0,s.jsx)(t,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:d?"Downloading...":"Download Audio"})]})]})}},987:(e,a,l)=>{l.d(a,{A:()=>n});const n=(0,l(797).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}}]);
//# sourceMappingURL=683.a1023e8c.chunk.js.map